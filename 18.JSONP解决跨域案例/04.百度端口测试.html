<!--
 * @Author: Jenn_Lu 1129694837@qq.com
 * @Date: 2024-05-20 11:17:10
 * @LastEditors: Jenn_Lu 1129694837@qq.com
 * @LastEditTime: 2024-05-20 14:02:23
 * @FilePath: \MyNodeJs\18.JSONP解决跨域案例.html\04.百度端口测试.html
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <title></title>
  </head>
  <body>
    <input type="text" id="ipt" />
    <button id="btn">show</button>
    <script>
      const oIpt = document.getElementById("ipt");
      const oBtn = document.getElementById("btn");

      function callback(data) {
        console.log(data, "!!!!!!!!");
      }

      //想要页面中一直只有一个script标签,就需要每次点击时,将上一个script移出
      let oScript = null;
      oBtn.onclick = function () {
        if (oScript) {
          oScript.remove();
        }
        const value = oIpt.value;
        oScript = document.createElement("script");
        oScript.src = `https://suggestion.baidu.com/su?cb=callback&wd=${value}`;
        document.body.appendChild(oScript);
      };
    </script>
  </body>
</html>
